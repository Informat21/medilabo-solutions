# üè• Medilabo SolutionsUn projet bas√© sur une architecture **microservices** pour la gestion des patients, des notes m√©dicales et de l‚Äô√©valuation du risque de diab√®te.  Le projet utilise **Spring Boot**, **MongoDB**, **DataGrip Mysql**, **Spring Cloud Gateway**, et un **front-end Thymeleaf**.---## üìå ArchitectureLe projet est compos√© de plusieurs services ind√©pendants, communiquant via HTTP :- **patient-service** : Gestion des patients (CRUD).- **notes-service** : Gestion des notes m√©dicales associ√©es aux patients.- **diabetes-risk-service** : √âvalue le risque de diab√®te d‚Äôun patient √† partir des notes.- **front** : Interface utilisateur avec **Thymeleaf** (acc√®s via navigateur).- **gateway-service** : Point d‚Äôentr√©e unique (reverse proxy + s√©curit√©).- **mongo** : Base de donn√©es NoSQL pour les notes.- **mysql** : Base de donn√©es relationnelle pour les patients.---**S√©curit√© :** acc√®s prot√©g√©s Spring Security / Basic Auth.  **Conteneurisation :** un `Dockerfile` par microservice + un `docker-compose.yml` √† la racine pour orchestrer.## üß™ R√®gles m√©tier (√©valuation du risque)Niveaux possibles : `None`, `Borderline`, `In Danger`, `Early onset`.- **None** : aucune note ne contient de **terme d√©clencheur**.- **Borderline (‚â•30 ans)** : entre **2 et 5** d√©clencheurs.- **In Danger** :    - **<30 ans** : Homme ‚Üí **‚â•3** d√©clencheurs ; Femme ‚Üí **‚â•4** d√©clencheurs.    - **‚â•30 ans** : **6 ou 7** d√©clencheurs.- **Early onset** :    - **<30 ans** : Homme ‚Üí **‚â•5 d√©clencheurs** ; Femme ‚Üí **‚â•7 d√©clencheurs**.    - **‚â•30 ans** : **‚â•8** d√©clencheurs.**D√©clencheurs** dans les notes :  _H√©moglobine A1C, Microalbumine, Taille, Poids, Fumeur/Fumeuse, Anormal, Cholest√©rol, Vertiges, Rechute, R√©action, Anticorps._## üóÉÔ∏è Donn√©es de d√©mo (4 cas de test)Patients (Sprint 1) :| Id | Nom           | Pr√©nom | Naissance   | Sexe ||----|---------------|--------|-------------|------|| 1  | TestNone      | Test   | 1966-12-31  | F    || 2  | TestBorderline| Test   | 1945-06-24  | M    || 3  | TestInDanger  | Test   | 2004-06-18  | M    || 4  | TestEarlyOnset| Test   | 2002-06-28  | F    |Notes associ√©es (Sprint 2) contiennent des d√©clencheurs pour valider les niveaux.  Risque **attendu** (Sprint 3) : `1 ‚Üí None`, `2 ‚Üí Borderline`, `3 ‚Üí InDanger`, `4 ‚Üí EarlyOnset`.---## üöÄ Lancer le projet### 1. Pr√©requis- [Docker](https://www.docker.com/) install√© et en cours d‚Äôex√©cution.- mysql ou [DataGrip](https://www.jetbrains.com/datagrip/) pour acc√©der √† la base MySQL.- Ports **8080 √† 8084** disponibles.### 2. Cloner le projet```textgit clone https://github.com/informat21/medilabo-solutions.gitcd medilabo-solutions```### 3. Lancer les services avec Docker Composedocker-compose up --build -d### 4. Acc√©der aux services- **Gateway (point d‚Äôentr√©e)** : [http://localhost:8080](http://localhost:8080)- **Front-end** : [http://localhost:8080/front/patients](http://localhost:8080/front/patients)- **Patient-service** : [http://localhost:8081/patients](http://localhost:8081/patients)- **Notes-service** : [http://localhost:8083/notes](http://localhost:8083/notes)- **Diabetes-risk-service** : [http://localhost:8084/risk](http://localhost:8084/risk)- **MongoDB** : [mongodb://localhost:27017/medilabo](mongodb://localhost:27017/medilabo)---## üîê AuthentificationLe **gateway-service** est prot√©g√© par **Spring Security (WebFlux)**.  Un utilisateur par d√©faut est configur√© :- **Username** : `admin`- **Password** : `password`---## üìÇ Structure du projet```textP9/‚îú‚îÄ diabetes-risk-service/‚îú‚îÄ front/‚îú‚îÄ gateway-service/‚îú‚îÄ notes-service/‚îú‚îÄ patient-service/‚îú‚îÄ docker-compose.yml‚îî‚îÄ README.md```---## ‚úÖ Fonctionnalit√©s- Ajouter un patient- Associer des notes m√©dicales √† un patient- Afficher les d√©tails d‚Äôun patient avec ses notes- √âvaluer automatiquement le risque de diab√®te selon l‚Äôhistorique m√©dical- Acc√©der √† l‚Äôapplication via une **interface web s√©curis√©e**---## üë®‚Äçüíª D√©veloppement### Lancer un service sans DockerPar exemple, pour lancer `patient-service` localement :cd patient-servicemvn spring-boot:run## ‚ôªÔ∏è Green Code ‚Äî Durabilit√© & bonnes pratiques### VisionNous adoptons une d√©marche de **codage durable** pour limiter l‚Äôimpact environnemental de notre projet tout en conservant sa performance, sa maintenabilit√© et son √©volutivit√©.### Suggestions d‚Äôactions- **All√©ger le code**    - Supprimer les portions inutilis√©es ou redondantes    - √âviter d‚Äôimporter des librairies compl√®tes quand seules quelques fonctions sont utilis√©es- **Optimiser les requ√™tes & acc√®s aux donn√©es**    - Pagination pour les endpoints renvoyant des listes    - Mise en cache pour les donn√©es fr√©quemment lues    - Lazy loading ou chargement √† la demande- **Optimisation front-end**    - Compresser / redimensionner les images (logo, ic√¥nes)    - Minifier CSS / JS    - Charger les scripts/styles seulement quand n√©cessaires- **Dimensionner les ressources**    - Ajuster la taille des conteneurs pour qu‚Äôils soient proportionn√©s au besoin r√©el    - Supprimer les services / √©tats inactifs lorsqu‚Äôils ne sont pas utilis√©s- **M√©triques & monitoring**    - Suivre les temps de r√©ponse, consommation CPU/M√©moire, latence r√©seau    - Estimer l‚Äôempreinte carbone de certaines op√©rations critiques (ex : gros calculs)- **Pipeline & CI/CD durable**    - Ex√©cuter des builds + tests uniquement quand n√©cessaire    - Nettoyer les artefacts / caches obsol√®tes    - Ex√©cuter les tests parall√®lement ou sur des machines optimis√©es- **Sensibiliser l‚Äô√©quipe**    - Documenter ces principes dans le projet    - Faire des revues de code centr√©es sur la performance et durabilit√©    - Inclure des r√®gles ‚ÄúGreen Code‚Äù dans les crit√®res de qualit√©## üìù AuteurProjet r√©alis√© dans le cadre de la formation **D√©veloppeur d'application Java - OpenClassrooms**.